<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Java .Blend</title>
		<!-- standard meta data -->
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="author" content="Holger Machens">
		<meta name="date" content="20-Oct-2017 16:17:48">
		<!-- meta data for search engines -->
		<meta name="description" content="A Generic (any-version) Blender File Import/Export Toolkit for Java.">
		<meta name="keywords" lang="en" content="Blender, Java, Import, Export">
		<!-- meta name="robots" content="noindex,nofollow"-->
</head>
<body>
<h1 style="text-align: center">Java .Blend</h1>
<br/>
<p style="text-align: center"><em>Providing Type-Safe Read/Write File Access to</em></p>
<p style="text-align: center"><em>the Full Blender DNA in Java</em></p>
<br/>
<p style="text-align: center"><b>Version 1.1.1</b></p>
<br/>
<p style="text-align: center">(open source and free)</p>
<p style="text-align: center">20-Oct-2017</p>
<p style="text-align: center">Holger Machens</p>

<table border="1">
<tr><th>Shortcuts</th></tr>
<tr>
<td>
<dl>
<dt><a href="#about">About</a></dt>
<dt><a href="spec.html">Documentation</a></dt>
<dt><a href="demo/index.html">Examples</a></dt>
<dt><a href="#download">Download</a></dt>
<dt><a href="#changelog">Change Log</a></dt>
<dt><a href="#Licensing">Licensing</a></dt>
</dl>
</td></tr>
</table>
<h2 id="about">About</h2>
<p>
<a href="http://blender.org">Blender's</a> core is written in C and 
Blender files are basically dumps of native memory content (C structs and scalar types) 
from heap to a file on disk. A <code>.blend</code> file is organised in blocks 
of arbitrary length, and the type of data is described in a special block, which 
contains type information (meta data) for all C native and 
structured types which can exist in a <code>.blend</code> file.
</p>
<p>
Based on the meta data of any Blender file, it is theoretically possible to 
generate code, which is capable to read/write data in Blender files of the 
same version in any programming language. Java .Blend is a combination of 
a code generator and a runtime data I/O module. 
Together, they provide a generic (any-version) solution for Blender file import/export 
in Java which features all aspects of the Blender DNA data model: The 
code generator is used at development time to generate Java facade 
classes which provide a type-safe API to Blender data and the I/O 
module transparently supports in data access at runtime. 
</p>
<p>
This toolkit was designed to serve for any kind of data exchange 
with Blender. Whether just importing data into another graphics engine, conversion to 
a different data format or external processing of data to add features to Blender. 
The generic mapping of the entire Blender DNA core data model combined with 
import <b>and</b> export capabilities, supports all of it.
</p>
<p><em>Please note that Java .Blend does not include code for semantic conversion of data 
between different Blender DNA versions. Thus, a given data model generated by Java .Blend 
for a specific Blender version is not implicitly compatible with another version. Read more 
on this topic in the <a href="spec.html">documentation</a>.
</em></p>
<p>
Working with Blender files requires in-depth knowledge about its data model. Java .Blend's
<a href="spec.html">documentation</a> provides just a high level overview of the data model and the Javadoc 
documentation incorporated in generated facade classes is still incomplete. Everybody 
is encouraged to contribute to the Javadoc source code documentation on generated classes, which is 
kept in a <a href="https://github.com/homacs/JavaBlendDocs.git">separate repository 
on github</a>.
</p>
<p> 
As a side effect of the generic approach, Java .Blend has low maintenance effort 
on maintainers side. New details in Blender's DNA will be instantly reflected in 
the generated data model and implicitly supported during import and export.
Thus, users don't have to worry about how long they can rely on this library, they can just 
generate new models by themselves without touching the sources.
</p>

<h2 id="download">Download</h2>
<h3>Pregenerated Data Model Packages</h3>
<p>
These packages contain pregenerated data models including the utilities package and
the data I/O submodule. The version numbers provided in the table below are Blender's 
version and minimum version the library is compatible with. Please note, that Java .Blend
does no conversion between versions. Refer to Section <a href="spec.html#FileVersion">"Blender Versioning and File Version"</a> in the 
<a href="spec.html">documentation</a> to read more about this topic.
</p>
<p><b>Note: </b>Binaries here are under Apache License v2.0, but source code packages contain source 
code documentation of Java .Blend's externally maintained documentation. Thus, the 
source code packages are under GPLv3 (see <a href="#Licensing">Licensing</a>).
</p>
<p>
If you need support for a different Blender version or do not want the dependency on GPL 
then refer to Section <a href="spec.html#GeneratingCode">Generating Data Model and Utilities</a> 
in the <a href="spec.html">documentation</a>.
</p>
<table border="1">
<tr><th>version</th><th>minversion</th><th></th><th></th><th></th></tr>
<tr><th>2.79-0</th><th>2.70-6</th><td><a href="downloads/JavaBlend-1.1.1-DNA-2.79.jar">binary</a></td><td><a href="downloads/JavaBlend-src-1.1.1-DNA-2.79.zip">src</a></td><td><a href="downloads/JavaBlend-javadoc-1.1.1-DNA-2.79.zip">javadoc</a></td></tr>
<tr><th>2.78-0</th><th>2.70-6</th><td><a href="downloads/JavaBlend-1.1.1-DNA-2.78.jar">binary</a></td><td><a href="downloads/JavaBlend-src-1.1.1-DNA-2.78.zip">src</a></td><td><a href="downloads/JavaBlend-javadoc-1.1.1-DNA-2.78.zip">javadoc</a></td></tr>
<tr><th>2.76-0</th><th>2.70-5</th><td><a href="downloads/JavaBlend-1.1.1-DNA-2.76.jar">binary</a></td><td><a href="downloads/JavaBlend-src-1.1.1-DNA-2.76.zip">src</a></td><td><a href="downloads/JavaBlend-javadoc-1.1.1-DNA-2.76.zip">javadoc</a></td></tr>
<tr><th>2.72-2</th><th>2.70-5</th><td><a href="downloads/JavaBlend-1.1.1-DNA-2.72.jar">binary</a></td><td><a href="downloads/JavaBlend-src-1.1.1-DNA-2.72.zip">src</a></td><td><a href="downloads/JavaBlend-javadoc-1.1.1-DNA-2.72.zip">javadoc</a></td></tr>
<tr><th>2.69-0</th><th>2.62-0</th><td><a href="downloads/JavaBlend-1.1.1-DNA-2.69.jar">binary</a></td><td><a href="downloads/JavaBlend-src-1.1.1-DNA-2.69.zip">src</a></td><td><a href="downloads/JavaBlend-javadoc-1.1.1-DNA-2.69.zip">javadoc</a></td></tr>
</table>

<h3>Examples</h3>
<p>
<a href="http://homac.cakelab.org/projects/JavaBlendViewer">Java .Blend Viewer</a> is 
the new example application (20/10/2017) which demonstrates reading of an entire scene 
from a blender file (with limits of course). It also contains examples for writing 
blend files. Read <a href="http://homac.cakelab.org/projects/JavaBlendViewer">here</a> for more details.
</p>

<h3>Java .Blend SDK</h3>
<p>
This package contains the code generator and the data I/O submodule. You will need 
this package if you want to generate your own data model, improve the documentation or
modify Java .Blend. You should also consider downloading the documentation files 
below, if you want source code documentation in generated facade classes.
</p>
<table border="1">
<tr><th>version</th><th></th><th></th></tr>
<tr><th>1.1.1</th><td><a href="downloads/JavaBlend-SDK-1.1.1.jar">binary</a></td><td><a href="downloads/JavaBlend-SDK-src-1.1.1.zip">src</a></td></tr>
<tr><th>1.0.4</th><td><a href="downloads/JavaBlend-SDK-1.0.4.jar">binary</a></td><td><a href="downloads/JavaBlend-SDK-src-1.0.4.zip">src</a></td></tr>
</table>

<h3>Java .Blend's Externally Maintained Documentation</h3>
<p>
Source code documentation for generated facade classes is maintained in a separate repository on github.
</p>
<p>
<b>Link: </b><a href="https://github.com/homacs/JavaBlendDocs">https://github.com/homacs/JavaBlendDocs</a>
</p>

<h2 id="changelog">Change Log</h2>
<ul>
<li>[1.1.1-r1271][20/10/2017]: adjusted scripts to generate DNA lib for Blender 2.79.
	<ul>
	<li>add: javadoc packages</li>
	<li>fix: wrong path for java.blend docs</li>
	<li>fix: crash in type cast when parameter is null</li>
	<li>add: copy constructor for all generated facade classes</li>
	<li>mod: set methods accept argument null interpreting it as NULL pointer</li>
	<li>mod: get methods of pointers return null if the C pointer refers to NULL</li>
	</ul>
</li>
<li>[1.1.0-r1117][12/11/2016]: fixed bugs due to overlapping blocks since 2.76 and even more source code documentation 
	<ul>
	<li>Added support for offheap areas (see documentation).</li>
	<li>Fixed issue with TreeStoreElem (since 2.76) due to overlapping address areas in blocks (offheap).</li>
	<li>Added tools to extract source code documentation from blender source code using doxygen.</li>
	</ul>
</li>
<li>[1.0.4-r759][18/01/2016]: clarified versioning and conversion between DNA versions 
	<ul>
	<li>Added compatibility check.</li>
	<li>Added more details on necessary semantic conversion between DNA versions in documentation.</li>
	</ul>
</li>
<li>[1.0.3-r755][18/01/2016]: fixed build issue
	<ul>
	<li>Fixed missing sdna image.</li>
	</ul>
</li>
<li>[1.0.2-r738][10/01/2016]: minor improvement
	<ul>
	<li>Added static method to check file before instantiating MainLib.</li>
	</ul>
</li>
<li>[1.0.1-r718][06/01/2016]: minor hotfix
	<ul>
	<li>Added missing metainf in jar.</li>
	<li>Fixed issue with unicode on windows.</li>
	<li>Fixed issue with reading of file version specifiers in newer Blender versions.</li>
	</ul>
</li>
<li>[1.0.0-r702][04/01/2016]: 1st release.
	<ul>
	<li>Added licenses for all packages.</li>
	<li>Added documentation with an introduction to Blender DNA, Java .Blend's system specification and a getting started guide.</li>
	<li>Moved documentation files for generated classes in a separate project.</li>
	<li>Reorganised the website.</li>
	<li>Finished Java .Blend's own source code documentation.</li>
	<li>Finished utilities package with MainLib and Factory class.</li>
	<li>Added example to write a .blend file compatible with Blender's clipboard functionality.</li>
	<li>Added example to convert a .blend file into a JSON representation.</li>
	<li>Fixed remaining bugs.</li>
	</ul>
</li>
<li>[0.0.2][r658]: Second tech. demo comprising all specified features
	<ul>
	<li>Refactored the hell out of it!</li>
	<li>Fixed several bugs</li>
	<li>Improved source code documentation all over the place</li>
	<li>Added support for Blender <b>version compatibility checks</b> against data model version</li>
	<li>Introduced Blender file <b>write access</b></li>
	<li>Introduced Blender <b>file creation</b> and initialisation (with StructDNA and FileGlobal)</li>
	<li>Added creation of StructDNA to support initialisation of .blend files.</li>
	<li>Added Blender <b>factory class</b> supporting allocation of blocks and implicit assignment to facades</li>
	<li>Made generation of Blender version specific utilities optional, since those are not fully generic.</li>
	<li>Introduced <b>allocator to manage virtual addresses</b> of a block table for block allocation</li>
	<li>Introduced <b>documentation system</b> to provide more information to generated classes</li>
	<li>Added script to extract documentation from Blender python api</li>
	<li>Documentation system considers file version to retrieve appropriate version of available documentation</li>
	<li>Added several methods to convert between strings, arrays, pointers considering null termination and charsets.</li>
	<li>Added conversion of pointers or array facades to Java native scalar type arrays</li>
	<li>Introduced iterators for arrays</li>
	<li>Optimised bulk data retrieval</li>
	<li>Improved runtime adaption to architecture dependent encoding (byte order and address width)</li>
	</ul>
</li> <!-- 0.0.2 -->
<li>[0.0.1][r617]: First demo of model generation and data reading capabilities
	<ul>
	<li>add: Facade concept for structured C types</li>
	<li>add: Abstraction for C pointers and arrays</li>
	<li>add: data model generation from StructDNA</li>
	<li>add: runtime conversion between Java and native data representations</li>
	<li>mod: demo application (cube.blend)</li>
	</ul>
</li> <!-- 0.0.1 -->
</ul>

<h2 id="Licensing">Licensing</h2>
<h3>Java .Blend SDK</h3>
<p>
Java .Blend SDK is published under the terms of 
the <a href="https://www.apache.org/licenses/LICENSE-2.0.txt">Apache License V2.0</a>. 
</p>
<h3>Java .Blend's Externally Maintained Documentation</h3>
<p>
<a href="https://github.com/homacs/JavaBlendDocs">Java .Blend's Externally Maintained Documentation</a> is licensed under <a href="http://www.gnu.org/licenses/gpl-3.0.txt">GPLv3</a>.
</p>
<h3>Pregenerated Data Model Packages</h3>
<p>
Binary packages are licensed under <a href="https://www.apache.org/licenses/LICENSE-2.0.txt">Apache License V2.0</a>.
</p>
<p>
Source code packages contain documentation of Java .Blend's externally maintained documentation, 
and therefore licensed under <a href="http://www.gnu.org/licenses/gpl-3.0.txt">GPLv3</a>.
</p>
<h3>Reasons and Effects of the Different Licenses</h3>
<p>
The reason for the different licensing is, that parts of the documentation are copied
from Blender source code and Blender is published under GPLv2. Thus, the documentation is
derived work and has to respect the terms of Blender's license.
</p>
<p>
The different licenses mainly affect redistribution of work based on
the documentation files. This means, if someone redistributes work 
which includes the original or modified documentation files or 
source code which contains parts of the documentation files 
(such as comments in generated facade classes), then this work has 
to respect the terms of the GPLv3.
</p>
<p>
Thus, if you consider redistributing derived work under a different 
license compatible with the Apache license of the SDK, than you just 
need to generate facade classes without Javadoc comments. Refer to 
Section <a href="spec.html#GeneratingCode">Generating Data Model and 
Utilities</a> in Java .Blend's documentation in order to learn how 
to do this.
</p>
<p>
If there are still licensing issues that can't be handled that way, 
than feel free to contact me and I'll try to help find a solution - even if I really hate this topic!</p>
</body>
</html>